"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("dist_index_js",{

/***/ "../../dist/ui/BridgeWidget.js":
/*!*************************************!*\
  !*** ../../dist/ui/BridgeWidget.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval(__webpack_require__.ts("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst react_1 = __importStar(__webpack_require__(/*! react */ \"../../node_modules/react/index.js\"));\nconst ethers_1 = __webpack_require__(/*! ethers */ \"../../node_modules/ethers/lib.commonjs/index.js\");\nconst bridge_1 = __webpack_require__(/*! ../bridge */ \"../../dist/bridge.js\");\n// Chain configurations\nconst CHAINS = {\n    bsc: {\n        name: \"BSC\",\n        icon: \"https://cryptologos.cc/logos/bnb-bnb-logo.png\",\n        rpcUrl: \"https://bsc-dataseed.binance.org/\",\n        chainId: 56,\n        explorerUrl: \"https://bscscan.com\",\n        eduAddress: \"0xBdEAe1cA48894A1759A8374D63925f21f2Ee2639\",\n        nativeSymbol: \"BNB\",\n    },\n    arbitrum: {\n        name: \"Arbitrum\",\n        icon: \"https://cryptologos.cc/logos/arbitrum-arb-logo.png\",\n        rpcUrl: \"https://arb1.arbitrum.io/rpc\",\n        chainId: 42161,\n        explorerUrl: \"https://arbiscan.io\",\n        eduAddress: \"0xf8173a39c56a554837C4C7f104153A005D284D11\",\n        nativeSymbol: \"ETH\",\n    },\n    educhain: {\n        name: \"EDUCHAIN\",\n        icon: \"/svgs/edu-chain.svg\", // Assuming this path exists in the host application\n        rpcUrl: \"https://rpc.edu-chain.raas.gelato.cloud\",\n        chainId: 41923,\n        explorerUrl: \"https://educhain.blockscout.com\",\n        eduAddress: \"0xd02E8c38a8E3db71f8b2ae30B8186d7874934e12\",\n        nativeSymbol: \"EDU\",\n    },\n};\n// Allowed bridge paths\nconst ALLOWED_PATHS = [\n    { from: \"bsc\", to: \"arbitrum\" },\n    { from: \"arbitrum\", to: \"educhain\" },\n];\nconst BridgeWidget = ({ onClose, isPopup = false, defaultFromChain = \"bsc\", defaultToChain = \"arbitrum\", defaultAmount = \"0\", signer, onSuccess, onError, }) => {\n    // State\n    const [fromChain, setFromChain] = (0, react_1.useState)(defaultFromChain);\n    const [toChain, setToChain] = (0, react_1.useState)(defaultToChain);\n    const [amount, setAmount] = (0, react_1.useState)(defaultAmount);\n    const [loading, setLoading] = (0, react_1.useState)(false);\n    const [error, setError] = (0, react_1.useState)(null);\n    const [success, setSuccess] = (0, react_1.useState)(null);\n    const [step, setStep] = (0, react_1.useState)(\"input\");\n    const [fee, setFee] = (0, react_1.useState)(null);\n    const [balance, setBalance] = (0, react_1.useState)(null);\n    const [isApproved, setIsApproved] = (0, react_1.useState)(false);\n    const [currentSigner, setCurrentSigner] = (0, react_1.useState)(null);\n    const [userAddress, setUserAddress] = (0, react_1.useState)(null);\n    // Initialize signer and check wallet connection\n    (0, react_1.useEffect)(() => {\n        const initSigner = async () => {\n            if (signer) {\n                setCurrentSigner(signer);\n                const address = await signer.getAddress();\n                setUserAddress(address);\n                return;\n            }\n            // If no signer provided, try to get one from window.ethereum\n            if (typeof window !== \"undefined\" && window.ethereum) {\n                try {\n                    await window.ethereum.request({ method: \"eth_requestAccounts\" });\n                    const provider = new ethers_1.ethers.BrowserProvider(window.ethereum);\n                    const connectedSigner = await provider.getSigner();\n                    setCurrentSigner(connectedSigner);\n                    const address = await connectedSigner.getAddress();\n                    setUserAddress(address);\n                }\n                catch (err) {\n                    console.error(\"Failed to connect wallet:\", err);\n                    setError(\"Please connect your wallet to use the bridge.\");\n                }\n            }\n            else {\n                setError(\"No wallet detected. Please install MetaMask or another web3 wallet.\");\n            }\n        };\n        initSigner();\n    }, [signer]);\n    // Check if the selected path is valid\n    const isValidPath = ALLOWED_PATHS.some((path) => path.from === fromChain && path.to === toChain);\n    // Switch chains when from/to changes\n    (0, react_1.useEffect)(() => {\n        if (!isValidPath) {\n            // Find a valid path that includes the fromChain\n            const validPath = ALLOWED_PATHS.find((path) => path.from === fromChain);\n            if (validPath) {\n                setToChain(validPath.to);\n            }\n        }\n    }, [fromChain, isValidPath]);\n    // Update fee and balance when parameters change\n    (0, react_1.useEffect)(() => {\n        const updateFeeAndBalance = async () => {\n            if (!currentSigner ||\n                !userAddress ||\n                !isValidPath ||\n                !amount ||\n                parseFloat(amount) <= 0) {\n                return;\n            }\n            setLoading(true);\n            setError(null);\n            try {\n                // Create bridge instance\n                const bridge = new bridge_1.Bridge(currentSigner);\n                // Check balance\n                let hasEnough = false;\n                if (fromChain === \"bsc\") {\n                    hasEnough = await bridge.hasEnoughEdu(userAddress, amount);\n                    // Get fee for BSC to Arbitrum\n                    if (toChain === \"arbitrum\") {\n                        const estimatedFee = await bridge.estimateBridgeFee(amount, userAddress);\n                        setFee(`${estimatedFee} BNB`);\n                        // Check if approved\n                        const approved = await bridge.isEduApproved(userAddress, amount);\n                        setIsApproved(approved);\n                    }\n                }\n                else if (fromChain === \"arbitrum\") {\n                    hasEnough = await bridge.hasEnoughEduOnArb(userAddress, amount);\n                    // Check if approved for Arbitrum to EDUCHAIN\n                    if (toChain === \"educhain\") {\n                        const approved = await bridge.isEduApprovedOnArb(userAddress, amount);\n                        setIsApproved(approved);\n                        setFee(\"Gas fee only\");\n                    }\n                }\n                if (!hasEnough) {\n                    setError(`Insufficient EDU balance on ${CHAINS[fromChain].name}`);\n                }\n                else {\n                    setError(null);\n                }\n                // Get balance\n                const provider = currentSigner.provider;\n                const eduContract = new ethers_1.ethers.Contract(CHAINS[fromChain].eduAddress, [\n                    \"function balanceOf(address) view returns (uint256)\",\n                    \"function decimals() view returns (uint8)\",\n                ], provider);\n                const decimals = await eduContract.decimals();\n                const balanceWei = await eduContract.balanceOf(userAddress);\n                const balanceFormatted = ethers_1.ethers.formatUnits(balanceWei, decimals);\n                setBalance(balanceFormatted);\n            }\n            catch (err) {\n                console.error(\"Error updating fee and balance:\", err);\n                setError(\"Failed to get fee or balance information\");\n            }\n            finally {\n                setLoading(false);\n            }\n        };\n        updateFeeAndBalance();\n    }, [currentSigner, userAddress, fromChain, toChain, amount, isValidPath]);\n    // Handle chain switch\n    const handleChainSwitch = async () => {\n        if (!currentSigner)\n            return;\n        const provider = currentSigner.provider;\n        const network = await provider.getNetwork();\n        const currentChainId = network.chainId;\n        const targetChainId = CHAINS[fromChain].chainId;\n        if (currentChainId !== BigInt(targetChainId)) {\n            if (typeof window !== \"undefined\" && window.ethereum) {\n                try {\n                    await window.ethereum.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: `0x${targetChainId.toString(16)}` }],\n                    });\n                }\n                catch (err) {\n                    console.error(\"Failed to switch network:\", err);\n                    setError(`Please switch your wallet to ${CHAINS[fromChain].name} network`);\n                }\n            }\n        }\n    };\n    // Handle approval\n    const handleApprove = async () => {\n        if (!currentSigner || !userAddress)\n            return;\n        setLoading(true);\n        setError(null);\n        try {\n            const bridge = new bridge_1.Bridge(currentSigner);\n            // Approve based on the chain\n            let tx;\n            if (fromChain === \"bsc\") {\n                tx = await bridge.approveEdu(amount);\n            }\n            else if (fromChain === \"arbitrum\") {\n                tx = await bridge.approveEduOnArb(amount);\n            }\n            if (!tx) {\n                throw new Error(\"Failed to create approval transaction\");\n            }\n            setStep(\"approval\");\n            await tx.wait();\n            setIsApproved(true);\n            setStep(\"confirmation\");\n        }\n        catch (err) {\n            console.error(\"Approval failed:\", err);\n            setError(\"Failed to approve tokens\");\n        }\n        finally {\n            setLoading(false);\n        }\n    };\n    // Handle bridge\n    const handleBridge = async () => {\n        if (!currentSigner || !userAddress || !isValidPath)\n            return;\n        setLoading(true);\n        setError(null);\n        setStep(\"processing\");\n        try {\n            const bridge = new bridge_1.Bridge(currentSigner);\n            // Execute bridge based on the path\n            let tx;\n            if (fromChain === \"bsc\" && toChain === \"arbitrum\") {\n                tx = await bridge.bridgeEduFromBscToArb(amount, userAddress);\n            }\n            else if (fromChain === \"arbitrum\" && toChain === \"educhain\") {\n                tx = await bridge.bridgeEduFromArbToEdu(amount);\n            }\n            if (!tx) {\n                throw new Error(\"Failed to create bridge transaction\");\n            }\n            await tx.wait();\n            setSuccess(tx.hash);\n            setStep(\"complete\");\n            if (onSuccess) {\n                onSuccess(tx.hash);\n            }\n        }\n        catch (err) {\n            console.error(\"Bridge failed:\", err);\n            setError(\"Failed to bridge tokens\");\n            if (onError) {\n                onError(err);\n            }\n        }\n        finally {\n            setLoading(false);\n        }\n    };\n    // Render the widget\n    return (react_1.default.createElement(react_1.default.Fragment, null,\n        react_1.default.createElement(\"h1\", null, \"Hello\"),\n        react_1.default.createElement(\"div\", { className: `bridge-widget ${isPopup ? \"bridge-widget-popup\" : \"\"}` },\n            isPopup && (react_1.default.createElement(\"div\", { className: \"bridge-widget-header\" },\n                react_1.default.createElement(\"h2\", null, \"Bridge EDU Tokens\"),\n                onClose && (react_1.default.createElement(\"button\", { className: \"bridge-widget-close\", onClick: onClose }, \"\\u00D7\")))),\n            react_1.default.createElement(\"div\", { className: \"bridge-widget-content\" },\n                step === \"input\" && (react_1.default.createElement(react_1.default.Fragment, null,\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-chains\" },\n                        react_1.default.createElement(\"div\", { className: \"bridge-widget-chain\" },\n                            react_1.default.createElement(\"label\", null, \"From\"),\n                            react_1.default.createElement(\"select\", { value: fromChain, onChange: (e) => setFromChain(e.target.value), disabled: loading }, Object.entries(CHAINS).map(([key, chain]) => (react_1.default.createElement(\"option\", { key: key, value: key }, chain.name))))),\n                        react_1.default.createElement(\"div\", { className: \"bridge-widget-chain-arrow\" }, \"\\u2192\"),\n                        react_1.default.createElement(\"div\", { className: \"bridge-widget-chain\" },\n                            react_1.default.createElement(\"label\", null, \"To\"),\n                            react_1.default.createElement(\"select\", { value: toChain, onChange: (e) => setToChain(e.target.value), disabled: loading }, Object.entries(CHAINS).map(([key, chain]) => (react_1.default.createElement(\"option\", { key: key, value: key, disabled: !ALLOWED_PATHS.some((path) => path.from === fromChain && path.to === key) }, chain.name)))))),\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-amount\" },\n                        react_1.default.createElement(\"label\", null, \"Amount\"),\n                        react_1.default.createElement(\"div\", { className: \"bridge-widget-amount-input\" },\n                            react_1.default.createElement(\"input\", { type: \"number\", value: amount, onChange: (e) => setAmount(e.target.value), disabled: loading, placeholder: \"0.0\", min: \"0\", step: \"0.01\" }),\n                            react_1.default.createElement(\"span\", null, \"EDU\")),\n                        balance && (react_1.default.createElement(\"div\", { className: \"bridge-widget-balance\" },\n                            \"Balance: \",\n                            parseFloat(balance).toFixed(4),\n                            \" EDU\",\n                            react_1.default.createElement(\"button\", { onClick: () => setAmount(balance), className: \"bridge-widget-max-button\" }, \"MAX\")))),\n                    fee && (react_1.default.createElement(\"div\", { className: \"bridge-widget-fee\" },\n                        \"Estimated Fee: \",\n                        fee)),\n                    error && react_1.default.createElement(\"div\", { className: \"bridge-widget-error\" }, error),\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-actions\" }, !currentSigner ? (react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-connect\", onClick: handleChainSwitch }, \"Connect Wallet\")) : !isApproved ? (react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-approve\", onClick: handleApprove, disabled: loading ||\n                            !!error ||\n                            !isValidPath ||\n                            !amount ||\n                            parseFloat(amount) <= 0 }, loading ? \"Approving...\" : \"Approve\")) : (react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-bridge\", onClick: handleBridge, disabled: loading ||\n                            !!error ||\n                            !isValidPath ||\n                            !amount ||\n                            parseFloat(amount) <= 0 }, loading ? \"Processing...\" : \"Bridge\"))))),\n                step === \"approval\" && (react_1.default.createElement(\"div\", { className: \"bridge-widget-step\" },\n                    react_1.default.createElement(\"h3\", null, \"Approving Tokens\"),\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-loader\" }),\n                    react_1.default.createElement(\"p\", null, \"Please confirm the transaction in your wallet...\"))),\n                step === \"confirmation\" && (react_1.default.createElement(\"div\", { className: \"bridge-widget-step\" },\n                    react_1.default.createElement(\"h3\", null, \"Ready to Bridge\"),\n                    react_1.default.createElement(\"p\", null,\n                        \"You're about to bridge \",\n                        amount,\n                        \" EDU from\",\n                        \" \",\n                        CHAINS[fromChain].name,\n                        \" to \",\n                        CHAINS[toChain].name,\n                        \".\"),\n                    fee && react_1.default.createElement(\"p\", null,\n                        \"Estimated Fee: \",\n                        fee),\n                    react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-bridge\", onClick: handleBridge, disabled: loading }, loading ? \"Processing...\" : \"Confirm Bridge\"),\n                    react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-back\", onClick: () => setStep(\"input\"), disabled: loading }, \"Back\"))),\n                step === \"processing\" && (react_1.default.createElement(\"div\", { className: \"bridge-widget-step\" },\n                    react_1.default.createElement(\"h3\", null, \"Bridging in Progress\"),\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-loader\" }),\n                    react_1.default.createElement(\"p\", null, \"Please confirm the transaction in your wallet...\"))),\n                step === \"complete\" && (react_1.default.createElement(\"div\", { className: \"bridge-widget-step\" },\n                    react_1.default.createElement(\"h3\", null, \"Bridge Successful!\"),\n                    react_1.default.createElement(\"div\", { className: \"bridge-widget-success\" }, \"\\u2713\"),\n                    react_1.default.createElement(\"p\", null,\n                        \"You've successfully initiated the bridge of \",\n                        amount,\n                        \" EDU from\",\n                        \" \",\n                        CHAINS[fromChain].name,\n                        \" to \",\n                        CHAINS[toChain].name,\n                        \".\"),\n                    react_1.default.createElement(\"p\", null,\n                        \"The tokens will arrive in your wallet on \",\n                        CHAINS[toChain].name,\n                        \" \",\n                        \"shortly.\"),\n                    success && (react_1.default.createElement(\"a\", { href: `${CHAINS[fromChain].explorerUrl}/tx/${success}`, target: \"_blank\", rel: \"noopener noreferrer\", className: \"bridge-widget-link\" }, \"View Transaction\")),\n                    react_1.default.createElement(\"button\", { className: \"bridge-widget-button bridge-widget-new\", onClick: () => {\n                            setStep(\"input\");\n                            setSuccess(null);\n                            setAmount(\"0\");\n                        } }, \"New Bridge\")))),\n            react_1.default.createElement(\"div\", { className: \"bridge-widget-footer\" },\n                react_1.default.createElement(\"p\", null, \"Powered by SailFish DEX\")),\n            react_1.default.createElement(\"style\", null, `\n        .bridge-widget {\n          font-family: 'Inter', sans-serif;\n          background-color: #1a1b23;\n          color: #ffffff;\n          border-radius: 12px;\n          width: 100%;\n          max-width: 480px;\n          overflow: hidden;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);\n        }\n\n        .bridge-widget-popup {\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 1000;\n        }\n\n        .bridge-widget-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 16px 20px;\n          border-bottom: 1px solid #2d2e36;\n        }\n\n        .bridge-widget-header h2 {\n          margin: 0;\n          font-size: 18px;\n          font-weight: 600;\n        }\n\n        .bridge-widget-close {\n          background: none;\n          border: none;\n          color: #8f8f8f;\n          font-size: 24px;\n          cursor: pointer;\n        }\n\n        .bridge-widget-content {\n          padding: 24px;\n          min-height: 300px;\n        }\n\n        .bridge-widget-chains {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 24px;\n        }\n\n        .bridge-widget-chain {\n          flex: 1;\n        }\n\n        .bridge-widget-chain label {\n          display: block;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #8f8f8f;\n        }\n\n        .bridge-widget-chain select {\n          width: 100%;\n          padding: 12px;\n          background-color: #2d2e36;\n          border: 1px solid #3a3b43;\n          border-radius: 8px;\n          color: #ffffff;\n          font-size: 16px;\n          appearance: none;\n          background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%238f8f8f' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n          background-repeat: no-repeat;\n          background-position: right 12px center;\n        }\n\n        .bridge-widget-chain-arrow {\n          margin: 0 12px;\n          font-size: 20px;\n          color: #8f8f8f;\n        }\n\n        .bridge-widget-amount {\n          margin-bottom: 24px;\n        }\n\n        .bridge-widget-amount label {\n          display: block;\n          margin-bottom: 8px;\n          font-size: 14px;\n          color: #8f8f8f;\n        }\n\n        .bridge-widget-amount-input {\n          display: flex;\n          align-items: center;\n          background-color: #2d2e36;\n          border: 1px solid #3a3b43;\n          border-radius: 8px;\n          overflow: hidden;\n        }\n\n        .bridge-widget-amount-input input {\n          flex: 1;\n          padding: 12px;\n          background: transparent;\n          border: none;\n          color: #ffffff;\n          font-size: 16px;\n        }\n\n        .bridge-widget-amount-input span {\n          padding: 0 12px;\n          color: #8f8f8f;\n        }\n\n        .bridge-widget-balance {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-top: 8px;\n          font-size: 14px;\n          color: #8f8f8f;\n        }\n\n        .bridge-widget-max-button {\n          background: none;\n          border: none;\n          color: #3b82f6;\n          cursor: pointer;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .bridge-widget-fee {\n          margin-bottom: 24px;\n          padding: 12px;\n          background-color: #2d2e36;\n          border-radius: 8px;\n          font-size: 14px;\n        }\n\n        .bridge-widget-error {\n          margin-bottom: 24px;\n          padding: 12px;\n          background-color: rgba(239, 68, 68, 0.1);\n          border-left: 3px solid #ef4444;\n          border-radius: 4px;\n          color: #ef4444;\n          font-size: 14px;\n        }\n\n        .bridge-widget-actions {\n          display: flex;\n          justify-content: center;\n        }\n\n        .bridge-widget-button {\n          padding: 12px 24px;\n          border: none;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: background-color 0.2s;\n          width: 100%;\n        }\n\n        .bridge-widget-connect {\n          background-color: #3b82f6;\n          color: #ffffff;\n        }\n\n        .bridge-widget-approve {\n          background-color: #8b5cf6;\n          color: #ffffff;\n        }\n\n        .bridge-widget-bridge {\n          background-color: #10b981;\n          color: #ffffff;\n        }\n\n        .bridge-widget-back {\n          background-color: #6b7280;\n          color: #ffffff;\n          margin-top: 12px;\n        }\n\n        .bridge-widget-new {\n          background-color: #3b82f6;\n          color: #ffffff;\n        }\n\n        .bridge-widget-button:hover {\n          opacity: 0.9;\n        }\n\n        .bridge-widget-button:disabled {\n          background-color: #4b5563;\n          cursor: not-allowed;\n          opacity: 0.7;\n        }\n\n        .bridge-widget-step {\n          text-align: center;\n        }\n\n        .bridge-widget-step h3 {\n          margin-bottom: 24px;\n          font-size: 18px;\n          font-weight: 600;\n        }\n\n        .bridge-widget-loader {\n          margin: 0 auto 24px;\n          width: 48px;\n          height: 48px;\n          border: 4px solid rgba(59, 130, 246, 0.2);\n          border-left-color: #3b82f6;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to {\n            transform: rotate(360deg);\n          }\n        }\n\n        .bridge-widget-success {\n          margin: 0 auto 24px;\n          width: 48px;\n          height: 48px;\n          background-color: #10b981;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 24px;\n          color: #ffffff;\n        }\n\n        .bridge-widget-link {\n          display: inline-block;\n          margin: 16px 0;\n          color: #3b82f6;\n          text-decoration: none;\n        }\n\n        .bridge-widget-link:hover {\n          text-decoration: underline;\n        }\n\n        .bridge-widget-footer {\n          padding: 12px 24px;\n          border-top: 1px solid #2d2e36;\n          text-align: center;\n          font-size: 12px;\n          color: #8f8f8f;\n        }\n      `))));\n};\nexports[\"default\"] = BridgeWidget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vZGlzdC91aS9CcmlkZ2VXaWRnZXQuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBDQUEwQyw0QkFBNEI7QUFDdEUsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxjQUFjO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNkJBQTZCLG1CQUFPLENBQUMsZ0RBQU87QUFDNUMsaUJBQWlCLG1CQUFPLENBQUMsK0RBQVE7QUFDakMsaUJBQWlCLG1CQUFPLENBQUMsdUNBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkJBQTZCO0FBQ25DLE1BQU0sa0NBQWtDO0FBQ3hDO0FBQ0Esd0JBQXdCLG1JQUFtSTtBQUMzSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwrQkFBK0I7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCx1QkFBdUI7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWMsMkJBQTJCLEdBQUc7QUFDL0UscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx3QkFBd0I7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw0QkFBNEIscUNBQXFDLEdBQUc7QUFDbkgsK0RBQStELG1DQUFtQztBQUNsRztBQUNBLHNFQUFzRSxvREFBb0Q7QUFDMUgsbURBQW1ELG9DQUFvQztBQUN2RjtBQUNBLDJEQUEyRCxtQ0FBbUM7QUFDOUYsK0RBQStELGtDQUFrQztBQUNqRztBQUNBLHNFQUFzRSxvRkFBb0YsMEZBQTBGLHNCQUFzQjtBQUMxUSwrREFBK0Qsd0NBQXdDO0FBQ3ZHLCtEQUErRCxrQ0FBa0M7QUFDakc7QUFDQSxzRUFBc0UsZ0ZBQWdGLDBGQUEwRiwyR0FBMkc7QUFDM1YsMkRBQTJELG1DQUFtQztBQUM5RjtBQUNBLCtEQUErRCx5Q0FBeUM7QUFDeEcscUVBQXFFLDBJQUEwSTtBQUMvTTtBQUNBLDJFQUEyRSxvQ0FBb0M7QUFDL0c7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLDBFQUEwRTtBQUNoSixtRUFBbUUsZ0NBQWdDO0FBQ25HO0FBQ0E7QUFDQSxvRUFBb0Usa0NBQWtDO0FBQ3RHLDJEQUEyRCxvQ0FBb0MsOERBQThELHFGQUFxRixnRkFBZ0Y7QUFDbFU7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNGQUFzRjtBQUMzSTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsK0VBQStFLGlDQUFpQztBQUNoSDtBQUNBLDJEQUEyRCxtQ0FBbUM7QUFDOUY7QUFDQSxtRkFBbUYsaUNBQWlDO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELGtHQUFrRztBQUNoSyw4REFBOEQsMEdBQTBHO0FBQ3hLLGlGQUFpRixpQ0FBaUM7QUFDbEg7QUFDQSwyREFBMkQsbUNBQW1DO0FBQzlGO0FBQ0EsK0VBQStFLGlDQUFpQztBQUNoSDtBQUNBLDJEQUEyRCxvQ0FBb0M7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxTQUFTLDhCQUE4QixNQUFNLFFBQVEsa0ZBQWtGO0FBQzVNLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IsbURBQW1ELG1DQUFtQztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi4vLi4vZGlzdC91aS9CcmlkZ2VXaWRnZXQuanM/NzdkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgb3duS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICB2YXIgYXIgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XG4gICAgICAgICAgICByZXR1cm4gYXI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvd25LZXlzKG8pO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb2QpIHtcbiAgICAgICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgPSBvd25LZXlzKG1vZCksIGkgPSAwOyBpIDwgay5sZW5ndGg7IGkrKykgaWYgKGtbaV0gIT09IFwiZGVmYXVsdFwiKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGtbaV0pO1xuICAgICAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcmVhY3RfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwicmVhY3RcIikpO1xuY29uc3QgZXRoZXJzXzEgPSByZXF1aXJlKFwiZXRoZXJzXCIpO1xuY29uc3QgYnJpZGdlXzEgPSByZXF1aXJlKFwiLi4vYnJpZGdlXCIpO1xuLy8gQ2hhaW4gY29uZmlndXJhdGlvbnNcbmNvbnN0IENIQUlOUyA9IHtcbiAgICBic2M6IHtcbiAgICAgICAgbmFtZTogXCJCU0NcIixcbiAgICAgICAgaWNvbjogXCJodHRwczovL2NyeXB0b2xvZ29zLmNjL2xvZ29zL2JuYi1ibmItbG9nby5wbmdcIixcbiAgICAgICAgcnBjVXJsOiBcImh0dHBzOi8vYnNjLWRhdGFzZWVkLmJpbmFuY2Uub3JnL1wiLFxuICAgICAgICBjaGFpbklkOiA1NixcbiAgICAgICAgZXhwbG9yZXJVcmw6IFwiaHR0cHM6Ly9ic2NzY2FuLmNvbVwiLFxuICAgICAgICBlZHVBZGRyZXNzOiBcIjB4QmRFQWUxY0E0ODg5NEExNzU5QTgzNzRENjM5MjVmMjFmMkVlMjYzOVwiLFxuICAgICAgICBuYXRpdmVTeW1ib2w6IFwiQk5CXCIsXG4gICAgfSxcbiAgICBhcmJpdHJ1bToge1xuICAgICAgICBuYW1lOiBcIkFyYml0cnVtXCIsXG4gICAgICAgIGljb246IFwiaHR0cHM6Ly9jcnlwdG9sb2dvcy5jYy9sb2dvcy9hcmJpdHJ1bS1hcmItbG9nby5wbmdcIixcbiAgICAgICAgcnBjVXJsOiBcImh0dHBzOi8vYXJiMS5hcmJpdHJ1bS5pby9ycGNcIixcbiAgICAgICAgY2hhaW5JZDogNDIxNjEsXG4gICAgICAgIGV4cGxvcmVyVXJsOiBcImh0dHBzOi8vYXJiaXNjYW4uaW9cIixcbiAgICAgICAgZWR1QWRkcmVzczogXCIweGY4MTczYTM5YzU2YTU1NDgzN0M0QzdmMTA0MTUzQTAwNUQyODREMTFcIixcbiAgICAgICAgbmF0aXZlU3ltYm9sOiBcIkVUSFwiLFxuICAgIH0sXG4gICAgZWR1Y2hhaW46IHtcbiAgICAgICAgbmFtZTogXCJFRFVDSEFJTlwiLFxuICAgICAgICBpY29uOiBcIi9zdmdzL2VkdS1jaGFpbi5zdmdcIiwgLy8gQXNzdW1pbmcgdGhpcyBwYXRoIGV4aXN0cyBpbiB0aGUgaG9zdCBhcHBsaWNhdGlvblxuICAgICAgICBycGNVcmw6IFwiaHR0cHM6Ly9ycGMuZWR1LWNoYWluLnJhYXMuZ2VsYXRvLmNsb3VkXCIsXG4gICAgICAgIGNoYWluSWQ6IDQxOTIzLFxuICAgICAgICBleHBsb3JlclVybDogXCJodHRwczovL2VkdWNoYWluLmJsb2Nrc2NvdXQuY29tXCIsXG4gICAgICAgIGVkdUFkZHJlc3M6IFwiMHhkMDJFOGMzOGE4RTNkYjcxZjhiMmFlMzBCODE4NmQ3ODc0OTM0ZTEyXCIsXG4gICAgICAgIG5hdGl2ZVN5bWJvbDogXCJFRFVcIixcbiAgICB9LFxufTtcbi8vIEFsbG93ZWQgYnJpZGdlIHBhdGhzXG5jb25zdCBBTExPV0VEX1BBVEhTID0gW1xuICAgIHsgZnJvbTogXCJic2NcIiwgdG86IFwiYXJiaXRydW1cIiB9LFxuICAgIHsgZnJvbTogXCJhcmJpdHJ1bVwiLCB0bzogXCJlZHVjaGFpblwiIH0sXG5dO1xuY29uc3QgQnJpZGdlV2lkZ2V0ID0gKHsgb25DbG9zZSwgaXNQb3B1cCA9IGZhbHNlLCBkZWZhdWx0RnJvbUNoYWluID0gXCJic2NcIiwgZGVmYXVsdFRvQ2hhaW4gPSBcImFyYml0cnVtXCIsIGRlZmF1bHRBbW91bnQgPSBcIjBcIiwgc2lnbmVyLCBvblN1Y2Nlc3MsIG9uRXJyb3IsIH0pID0+IHtcbiAgICAvLyBTdGF0ZVxuICAgIGNvbnN0IFtmcm9tQ2hhaW4sIHNldEZyb21DaGFpbl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkoZGVmYXVsdEZyb21DaGFpbik7XG4gICAgY29uc3QgW3RvQ2hhaW4sIHNldFRvQ2hhaW5dID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGRlZmF1bHRUb0NoYWluKTtcbiAgICBjb25zdCBbYW1vdW50LCBzZXRBbW91bnRdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKGRlZmF1bHRBbW91bnQpO1xuICAgIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShmYWxzZSk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgY29uc3QgW3N1Y2Nlc3MsIHNldFN1Y2Nlc3NdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIGNvbnN0IFtzdGVwLCBzZXRTdGVwXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShcImlucHV0XCIpO1xuICAgIGNvbnN0IFtmZWUsIHNldEZlZV0gPSAoMCwgcmVhY3RfMS51c2VTdGF0ZSkobnVsbCk7XG4gICAgY29uc3QgW2JhbGFuY2UsIHNldEJhbGFuY2VdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIGNvbnN0IFtpc0FwcHJvdmVkLCBzZXRJc0FwcHJvdmVkXSA9ICgwLCByZWFjdF8xLnVzZVN0YXRlKShmYWxzZSk7XG4gICAgY29uc3QgW2N1cnJlbnRTaWduZXIsIHNldEN1cnJlbnRTaWduZXJdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIGNvbnN0IFt1c2VyQWRkcmVzcywgc2V0VXNlckFkZHJlc3NdID0gKDAsIHJlYWN0XzEudXNlU3RhdGUpKG51bGwpO1xuICAgIC8vIEluaXRpYWxpemUgc2lnbmVyIGFuZCBjaGVjayB3YWxsZXQgY29ubmVjdGlvblxuICAgICgwLCByZWFjdF8xLnVzZUVmZmVjdCkoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbml0U2lnbmVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNpZ25lcikge1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTaWduZXIoc2lnbmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzID0gYXdhaXQgc2lnbmVyLmdldEFkZHJlc3MoKTtcbiAgICAgICAgICAgICAgICBzZXRVc2VyQWRkcmVzcyhhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBubyBzaWduZXIgcHJvdmlkZWQsIHRyeSB0byBnZXQgb25lIGZyb20gd2luZG93LmV0aGVyZXVtXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogXCJldGhfcmVxdWVzdEFjY291bnRzXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGV0aGVyc18xLmV0aGVycy5Ccm93c2VyUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdGVkU2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRTaWduZXIoY29ubmVjdGVkU2lnbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGF3YWl0IGNvbm5lY3RlZFNpZ25lci5nZXRBZGRyZXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFVzZXJBZGRyZXNzKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY29ubmVjdCB3YWxsZXQ6XCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHNldEVycm9yKFwiUGxlYXNlIGNvbm5lY3QgeW91ciB3YWxsZXQgdG8gdXNlIHRoZSBicmlkZ2UuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKFwiTm8gd2FsbGV0IGRldGVjdGVkLiBQbGVhc2UgaW5zdGFsbCBNZXRhTWFzayBvciBhbm90aGVyIHdlYjMgd2FsbGV0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaW5pdFNpZ25lcigpO1xuICAgIH0sIFtzaWduZXJdKTtcbiAgICAvLyBDaGVjayBpZiB0aGUgc2VsZWN0ZWQgcGF0aCBpcyB2YWxpZFxuICAgIGNvbnN0IGlzVmFsaWRQYXRoID0gQUxMT1dFRF9QQVRIUy5zb21lKChwYXRoKSA9PiBwYXRoLmZyb20gPT09IGZyb21DaGFpbiAmJiBwYXRoLnRvID09PSB0b0NoYWluKTtcbiAgICAvLyBTd2l0Y2ggY2hhaW5zIHdoZW4gZnJvbS90byBjaGFuZ2VzXG4gICAgKDAsIHJlYWN0XzEudXNlRWZmZWN0KSgoKSA9PiB7XG4gICAgICAgIGlmICghaXNWYWxpZFBhdGgpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgYSB2YWxpZCBwYXRoIHRoYXQgaW5jbHVkZXMgdGhlIGZyb21DaGFpblxuICAgICAgICAgICAgY29uc3QgdmFsaWRQYXRoID0gQUxMT1dFRF9QQVRIUy5maW5kKChwYXRoKSA9PiBwYXRoLmZyb20gPT09IGZyb21DaGFpbik7XG4gICAgICAgICAgICBpZiAodmFsaWRQYXRoKSB7XG4gICAgICAgICAgICAgICAgc2V0VG9DaGFpbih2YWxpZFBhdGgudG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW2Zyb21DaGFpbiwgaXNWYWxpZFBhdGhdKTtcbiAgICAvLyBVcGRhdGUgZmVlIGFuZCBiYWxhbmNlIHdoZW4gcGFyYW1ldGVycyBjaGFuZ2VcbiAgICAoMCwgcmVhY3RfMS51c2VFZmZlY3QpKCgpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlRmVlQW5kQmFsYW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGlmICghY3VycmVudFNpZ25lciB8fFxuICAgICAgICAgICAgICAgICF1c2VyQWRkcmVzcyB8fFxuICAgICAgICAgICAgICAgICFpc1ZhbGlkUGF0aCB8fFxuICAgICAgICAgICAgICAgICFhbW91bnQgfHxcbiAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGFtb3VudCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGJyaWRnZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIGNvbnN0IGJyaWRnZSA9IG5ldyBicmlkZ2VfMS5CcmlkZ2UoY3VycmVudFNpZ25lcik7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgYmFsYW5jZVxuICAgICAgICAgICAgICAgIGxldCBoYXNFbm91Z2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbUNoYWluID09PSBcImJzY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0Vub3VnaCA9IGF3YWl0IGJyaWRnZS5oYXNFbm91Z2hFZHUodXNlckFkZHJlc3MsIGFtb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBmZWUgZm9yIEJTQyB0byBBcmJpdHJ1bVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9DaGFpbiA9PT0gXCJhcmJpdHJ1bVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlc3RpbWF0ZWRGZWUgPSBhd2FpdCBicmlkZ2UuZXN0aW1hdGVCcmlkZ2VGZWUoYW1vdW50LCB1c2VyQWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGZWUoYCR7ZXN0aW1hdGVkRmVlfSBCTkJgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFwcHJvdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcHByb3ZlZCA9IGF3YWl0IGJyaWRnZS5pc0VkdUFwcHJvdmVkKHVzZXJBZGRyZXNzLCBhbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNBcHByb3ZlZChhcHByb3ZlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZnJvbUNoYWluID09PSBcImFyYml0cnVtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzRW5vdWdoID0gYXdhaXQgYnJpZGdlLmhhc0Vub3VnaEVkdU9uQXJiKHVzZXJBZGRyZXNzLCBhbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhcHByb3ZlZCBmb3IgQXJiaXRydW0gdG8gRURVQ0hBSU5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvQ2hhaW4gPT09IFwiZWR1Y2hhaW5cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBwcm92ZWQgPSBhd2FpdCBicmlkZ2UuaXNFZHVBcHByb3ZlZE9uQXJiKHVzZXJBZGRyZXNzLCBhbW91bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNBcHByb3ZlZChhcHByb3ZlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRGZWUoXCJHYXMgZmVlIG9ubHlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNFbm91Z2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoYEluc3VmZmljaWVudCBFRFUgYmFsYW5jZSBvbiAke0NIQUlOU1tmcm9tQ2hhaW5dLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gR2V0IGJhbGFuY2VcbiAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlciA9IGN1cnJlbnRTaWduZXIucHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgZWR1Q29udHJhY3QgPSBuZXcgZXRoZXJzXzEuZXRoZXJzLkNvbnRyYWN0KENIQUlOU1tmcm9tQ2hhaW5dLmVkdUFkZHJlc3MsIFtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvbiBiYWxhbmNlT2YoYWRkcmVzcykgdmlldyByZXR1cm5zICh1aW50MjU2KVwiLFxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uIGRlY2ltYWxzKCkgdmlldyByZXR1cm5zICh1aW50OClcIixcbiAgICAgICAgICAgICAgICBdLCBwcm92aWRlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaW1hbHMgPSBhd2FpdCBlZHVDb250cmFjdC5kZWNpbWFscygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VXZWkgPSBhd2FpdCBlZHVDb250cmFjdC5iYWxhbmNlT2YodXNlckFkZHJlc3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhbGFuY2VGb3JtYXR0ZWQgPSBldGhlcnNfMS5ldGhlcnMuZm9ybWF0VW5pdHMoYmFsYW5jZVdlaSwgZGVjaW1hbHMpO1xuICAgICAgICAgICAgICAgIHNldEJhbGFuY2UoYmFsYW5jZUZvcm1hdHRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGZlZSBhbmQgYmFsYW5jZTpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byBnZXQgZmVlIG9yIGJhbGFuY2UgaW5mb3JtYXRpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlRmVlQW5kQmFsYW5jZSgpO1xuICAgIH0sIFtjdXJyZW50U2lnbmVyLCB1c2VyQWRkcmVzcywgZnJvbUNoYWluLCB0b0NoYWluLCBhbW91bnQsIGlzVmFsaWRQYXRoXSk7XG4gICAgLy8gSGFuZGxlIGNoYWluIHN3aXRjaFxuICAgIGNvbnN0IGhhbmRsZUNoYWluU3dpdGNoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRTaWduZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gY3VycmVudFNpZ25lci5wcm92aWRlcjtcbiAgICAgICAgY29uc3QgbmV0d29yayA9IGF3YWl0IHByb3ZpZGVyLmdldE5ldHdvcmsoKTtcbiAgICAgICAgY29uc3QgY3VycmVudENoYWluSWQgPSBuZXR3b3JrLmNoYWluSWQ7XG4gICAgICAgIGNvbnN0IHRhcmdldENoYWluSWQgPSBDSEFJTlNbZnJvbUNoYWluXS5jaGFpbklkO1xuICAgICAgICBpZiAoY3VycmVudENoYWluSWQgIT09IEJpZ0ludCh0YXJnZXRDaGFpbklkKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIndhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFt7IGNoYWluSWQ6IGAweCR7dGFyZ2V0Q2hhaW5JZC50b1N0cmluZygxNil9YCB9XSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzd2l0Y2ggbmV0d29yazpcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoYFBsZWFzZSBzd2l0Y2ggeW91ciB3YWxsZXQgdG8gJHtDSEFJTlNbZnJvbUNoYWluXS5uYW1lfSBuZXR3b3JrYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBIYW5kbGUgYXBwcm92YWxcbiAgICBjb25zdCBoYW5kbGVBcHByb3ZlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRTaWduZXIgfHwgIXVzZXJBZGRyZXNzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGJyaWRnZSA9IG5ldyBicmlkZ2VfMS5CcmlkZ2UoY3VycmVudFNpZ25lcik7XG4gICAgICAgICAgICAvLyBBcHByb3ZlIGJhc2VkIG9uIHRoZSBjaGFpblxuICAgICAgICAgICAgbGV0IHR4O1xuICAgICAgICAgICAgaWYgKGZyb21DaGFpbiA9PT0gXCJic2NcIikge1xuICAgICAgICAgICAgICAgIHR4ID0gYXdhaXQgYnJpZGdlLmFwcHJvdmVFZHUoYW1vdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21DaGFpbiA9PT0gXCJhcmJpdHJ1bVwiKSB7XG4gICAgICAgICAgICAgICAgdHggPSBhd2FpdCBicmlkZ2UuYXBwcm92ZUVkdU9uQXJiKGFtb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXR4KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBhcHByb3ZhbCB0cmFuc2FjdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFN0ZXAoXCJhcHByb3ZhbFwiKTtcbiAgICAgICAgICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICAgICAgICAgIHNldElzQXBwcm92ZWQodHJ1ZSk7XG4gICAgICAgICAgICBzZXRTdGVwKFwiY29uZmlybWF0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBcHByb3ZhbCBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byBhcHByb3ZlIHRva2Vuc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBIYW5kbGUgYnJpZGdlXG4gICAgY29uc3QgaGFuZGxlQnJpZGdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWN1cnJlbnRTaWduZXIgfHwgIXVzZXJBZGRyZXNzIHx8ICFpc1ZhbGlkUGF0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIHNldFN0ZXAoXCJwcm9jZXNzaW5nXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYnJpZGdlID0gbmV3IGJyaWRnZV8xLkJyaWRnZShjdXJyZW50U2lnbmVyKTtcbiAgICAgICAgICAgIC8vIEV4ZWN1dGUgYnJpZGdlIGJhc2VkIG9uIHRoZSBwYXRoXG4gICAgICAgICAgICBsZXQgdHg7XG4gICAgICAgICAgICBpZiAoZnJvbUNoYWluID09PSBcImJzY1wiICYmIHRvQ2hhaW4gPT09IFwiYXJiaXRydW1cIikge1xuICAgICAgICAgICAgICAgIHR4ID0gYXdhaXQgYnJpZGdlLmJyaWRnZUVkdUZyb21Cc2NUb0FyYihhbW91bnQsIHVzZXJBZGRyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21DaGFpbiA9PT0gXCJhcmJpdHJ1bVwiICYmIHRvQ2hhaW4gPT09IFwiZWR1Y2hhaW5cIikge1xuICAgICAgICAgICAgICAgIHR4ID0gYXdhaXQgYnJpZGdlLmJyaWRnZUVkdUZyb21BcmJUb0VkdShhbW91bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0eCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgYnJpZGdlIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdHgud2FpdCgpO1xuICAgICAgICAgICAgc2V0U3VjY2Vzcyh0eC5oYXNoKTtcbiAgICAgICAgICAgIHNldFN0ZXAoXCJjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgIGlmIChvblN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3ModHguaGFzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkJyaWRnZSBmYWlsZWQ6XCIsIGVycik7XG4gICAgICAgICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byBicmlkZ2UgdG9rZW5zXCIpO1xuICAgICAgICAgICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVuZGVyIHRoZSB3aWRnZXRcbiAgICByZXR1cm4gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHJlYWN0XzEuZGVmYXVsdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCBudWxsLCBcIkhlbGxvXCIpLFxuICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogYGJyaWRnZS13aWRnZXQgJHtpc1BvcHVwID8gXCJicmlkZ2Utd2lkZ2V0LXBvcHVwXCIgOiBcIlwifWAgfSxcbiAgICAgICAgICAgIGlzUG9wdXAgJiYgKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtaGVhZGVyXCIgfSxcbiAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwiQnJpZGdlIEVEVSBUb2tlbnNcIiksXG4gICAgICAgICAgICAgICAgb25DbG9zZSAmJiAocmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1jbG9zZVwiLCBvbkNsaWNrOiBvbkNsb3NlIH0sIFwiXFx1MDBEN1wiKSkpKSxcbiAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtY29udGVudFwiIH0sXG4gICAgICAgICAgICAgICAgc3RlcCA9PT0gXCJpbnB1dFwiICYmIChyZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChyZWFjdF8xLmRlZmF1bHQuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtY2hhaW5zXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtY2hhaW5cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgbnVsbCwgXCJGcm9tXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHsgdmFsdWU6IGZyb21DaGFpbiwgb25DaGFuZ2U6IChlKSA9PiBzZXRGcm9tQ2hhaW4oZS50YXJnZXQudmFsdWUpLCBkaXNhYmxlZDogbG9hZGluZyB9LCBPYmplY3QuZW50cmllcyhDSEFJTlMpLm1hcCgoW2tleSwgY2hhaW5dKSA9PiAocmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiwgeyBrZXk6IGtleSwgdmFsdWU6IGtleSB9LCBjaGFpbi5uYW1lKSkpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWNoYWluLWFycm93XCIgfSwgXCJcXHUyMTkyXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1jaGFpblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCBudWxsLCBcIlRvXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHsgdmFsdWU6IHRvQ2hhaW4sIG9uQ2hhbmdlOiAoZSkgPT4gc2V0VG9DaGFpbihlLnRhcmdldC52YWx1ZSksIGRpc2FibGVkOiBsb2FkaW5nIH0sIE9iamVjdC5lbnRyaWVzKENIQUlOUykubWFwKChba2V5LCBjaGFpbl0pID0+IChyZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7IGtleToga2V5LCB2YWx1ZToga2V5LCBkaXNhYmxlZDogIUFMTE9XRURfUEFUSFMuc29tZSgocGF0aCkgPT4gcGF0aC5mcm9tID09PSBmcm9tQ2hhaW4gJiYgcGF0aC50byA9PT0ga2V5KSB9LCBjaGFpbi5uYW1lKSkpKSkpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWFtb3VudFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIG51bGwsIFwiQW1vdW50XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1hbW91bnQtaW5wdXRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiBcIm51bWJlclwiLCB2YWx1ZTogYW1vdW50LCBvbkNoYW5nZTogKGUpID0+IHNldEFtb3VudChlLnRhcmdldC52YWx1ZSksIGRpc2FibGVkOiBsb2FkaW5nLCBwbGFjZWhvbGRlcjogXCIwLjBcIiwgbWluOiBcIjBcIiwgc3RlcDogXCIwLjAxXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiRURVXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbGFuY2UgJiYgKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtYmFsYW5jZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJCYWxhbmNlOiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZsb2F0KGJhbGFuY2UpLnRvRml4ZWQoNCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgRURVXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRBbW91bnQoYmFsYW5jZSksIGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LW1heC1idXR0b25cIiB9LCBcIk1BWFwiKSkpKSxcbiAgICAgICAgICAgICAgICAgICAgZmVlICYmIChyZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWZlZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVzdGltYXRlZCBGZWU6IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmVlKSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yICYmIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtZXJyb3JcIiB9LCBlcnJvciksXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtYWN0aW9uc1wiIH0sICFjdXJyZW50U2lnbmVyID8gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtYnV0dG9uIGJyaWRnZS13aWRnZXQtY29ubmVjdFwiLCBvbkNsaWNrOiBoYW5kbGVDaGFpblN3aXRjaCB9LCBcIkNvbm5lY3QgV2FsbGV0XCIpKSA6ICFpc0FwcHJvdmVkID8gKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtYnV0dG9uIGJyaWRnZS13aWRnZXQtYXBwcm92ZVwiLCBvbkNsaWNrOiBoYW5kbGVBcHByb3ZlLCBkaXNhYmxlZDogbG9hZGluZyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhZXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNWYWxpZFBhdGggfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYW1vdW50IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbW91bnQpIDw9IDAgfSwgbG9hZGluZyA/IFwiQXBwcm92aW5nLi4uXCIgOiBcIkFwcHJvdmVcIikpIDogKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtYnV0dG9uIGJyaWRnZS13aWRnZXQtYnJpZGdlXCIsIG9uQ2xpY2s6IGhhbmRsZUJyaWRnZSwgZGlzYWJsZWQ6IGxvYWRpbmcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIWVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzVmFsaWRQYXRoIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWFtb3VudCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW1vdW50KSA8PSAwIH0sIGxvYWRpbmcgPyBcIlByb2Nlc3NpbmcuLi5cIiA6IFwiQnJpZGdlXCIpKSkpKSxcbiAgICAgICAgICAgICAgICBzdGVwID09PSBcImFwcHJvdmFsXCIgJiYgKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtc3RlcFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJBcHByb3ZpbmcgVG9rZW5zXCIpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWxvYWRlclwiIH0pLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJQbGVhc2UgY29uZmlybSB0aGUgdHJhbnNhY3Rpb24gaW4geW91ciB3YWxsZXQuLi5cIikpKSxcbiAgICAgICAgICAgICAgICBzdGVwID09PSBcImNvbmZpcm1hdGlvblwiICYmIChyZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LXN0ZXBcIiB9LFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgzXCIsIG51bGwsIFwiUmVhZHkgdG8gQnJpZGdlXCIpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiWW91J3JlIGFib3V0IHRvIGJyaWRnZSBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIEVEVSBmcm9tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIENIQUlOU1tmcm9tQ2hhaW5dLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiB0byBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIENIQUlOU1t0b0NoYWluXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIuXCIpLFxuICAgICAgICAgICAgICAgICAgICBmZWUgJiYgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVzdGltYXRlZCBGZWU6IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmVlKSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1idXR0b24gYnJpZGdlLXdpZGdldC1icmlkZ2VcIiwgb25DbGljazogaGFuZGxlQnJpZGdlLCBkaXNhYmxlZDogbG9hZGluZyB9LCBsb2FkaW5nID8gXCJQcm9jZXNzaW5nLi4uXCIgOiBcIkNvbmZpcm0gQnJpZGdlXCIpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWJ1dHRvbiBicmlkZ2Utd2lkZ2V0LWJhY2tcIiwgb25DbGljazogKCkgPT4gc2V0U3RlcChcImlucHV0XCIpLCBkaXNhYmxlZDogbG9hZGluZyB9LCBcIkJhY2tcIikpKSxcbiAgICAgICAgICAgICAgICBzdGVwID09PSBcInByb2Nlc3NpbmdcIiAmJiAocmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1zdGVwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCBudWxsLCBcIkJyaWRnaW5nIGluIFByb2dyZXNzXCIpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWxvYWRlclwiIH0pLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJQbGVhc2UgY29uZmlybSB0aGUgdHJhbnNhY3Rpb24gaW4geW91ciB3YWxsZXQuLi5cIikpKSxcbiAgICAgICAgICAgICAgICBzdGVwID09PSBcImNvbXBsZXRlXCIgJiYgKHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtc3RlcFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwgbnVsbCwgXCJCcmlkZ2UgU3VjY2Vzc2Z1bCFcIiksXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJyaWRnZS13aWRnZXQtc3VjY2Vzc1wiIH0sIFwiXFx1MjcxM1wiKSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIllvdSd2ZSBzdWNjZXNzZnVsbHkgaW5pdGlhdGVkIHRoZSBicmlkZ2Ugb2YgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBFRFUgZnJvbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBDSEFJTlNbZnJvbUNoYWluXS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgdG8gXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBDSEFJTlNbdG9DaGFpbl0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiLlwiKSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSB0b2tlbnMgd2lsbCBhcnJpdmUgaW4geW91ciB3YWxsZXQgb24gXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBDSEFJTlNbdG9DaGFpbl0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzaG9ydGx5LlwiKSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyAmJiAocmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIHsgaHJlZjogYCR7Q0hBSU5TW2Zyb21DaGFpbl0uZXhwbG9yZXJVcmx9L3R4LyR7c3VjY2Vzc31gLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWxpbmtcIiB9LCBcIlZpZXcgVHJhbnNhY3Rpb25cIikpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdF8xLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJicmlkZ2Utd2lkZ2V0LWJ1dHRvbiBicmlkZ2Utd2lkZ2V0LW5ld1wiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RlcChcImlucHV0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1Y2Nlc3MobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW1vdW50KFwiMFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gfSwgXCJOZXcgQnJpZGdlXCIpKSkpLFxuICAgICAgICAgICAgcmVhY3RfMS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYnJpZGdlLXdpZGdldC1mb290ZXJcIiB9LFxuICAgICAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIlBvd2VyZWQgYnkgU2FpbEZpc2ggREVYXCIpKSxcbiAgICAgICAgICAgIHJlYWN0XzEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiwgbnVsbCwgYFxuICAgICAgICAuYnJpZGdlLXdpZGdldCB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzFhMWIyMztcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIG1heC13aWR0aDogNDgwcHg7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1wb3B1cCB7XG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgICB6LWluZGV4OiAxMDAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtaGVhZGVyIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIHBhZGRpbmc6IDE2cHggMjBweDtcbiAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzJkMmUzNjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LWhlYWRlciBoMiB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtY2xvc2Uge1xuICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGNvbG9yOiAjOGY4ZjhmO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1jb250ZW50IHtcbiAgICAgICAgICBwYWRkaW5nOiAyNHB4O1xuICAgICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtY2hhaW5zIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1jaGFpbiB7XG4gICAgICAgICAgZmxleDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LWNoYWluIGxhYmVsIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIGNvbG9yOiAjOGY4ZjhmO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtY2hhaW4gc2VsZWN0IHtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyZDJlMzY7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzNhM2I0MztcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNicgaGVpZ2h0PScxNicgdmlld0JveD0nMCAwIDI0IDI0JyBmaWxsPSdub25lJyBzdHJva2U9JyUyMzhmOGY4Zicgc3Ryb2tlLXdpZHRoPScyJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnJTNFJTNDcG9seWxpbmUgcG9pbnRzPSc2IDkgMTIgMTUgMTggOSclM0UlM0MvcG9seWxpbmUlM0UlM0Mvc3ZnJTNFXCIpO1xuICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogcmlnaHQgMTJweCBjZW50ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1jaGFpbi1hcnJvdyB7XG4gICAgICAgICAgbWFyZ2luOiAwIDEycHg7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICAgIGNvbG9yOiAjOGY4ZjhmO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtYW1vdW50IHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtYW1vdW50IGxhYmVsIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIGNvbG9yOiAjOGY4ZjhmO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtYW1vdW50LWlucHV0IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJkMmUzNjtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjM2EzYjQzO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtYW1vdW50LWlucHV0IGlucHV0IHtcbiAgICAgICAgICBmbGV4OiAxO1xuICAgICAgICAgIHBhZGRpbmc6IDEycHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LWFtb3VudC1pbnB1dCBzcGFuIHtcbiAgICAgICAgICBwYWRkaW5nOiAwIDEycHg7XG4gICAgICAgICAgY29sb3I6ICM4ZjhmOGY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1iYWxhbmNlIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgY29sb3I6ICM4ZjhmOGY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1tYXgtYnV0dG9uIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBjb2xvcjogIzNiODJmNjtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1mZWUge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgICAgcGFkZGluZzogMTJweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZTM2O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1lcnJvciB7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjM5LCA2OCwgNjgsIDAuMSk7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjZWY0NDQ0O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICBjb2xvcjogI2VmNDQ0NDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1hY3Rpb25zIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtYnV0dG9uIHtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDI0cHg7XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtY29ubmVjdCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzNiODJmNjtcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LWFwcHJvdmUge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM4YjVjZjY7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1icmlkZ2Uge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMGI5ODE7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1iYWNrIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmI3MjgwO1xuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgIG1hcmdpbi10b3A6IDEycHg7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1uZXcge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMzYjgyZjY7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1idXR0b246aG92ZXIge1xuICAgICAgICAgIG9wYWNpdHk6IDAuOTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LWJ1dHRvbjpkaXNhYmxlZCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzRiNTU2MztcbiAgICAgICAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICAgICAgICAgIG9wYWNpdHk6IDAuNztcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LXN0ZXAge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LXN0ZXAgaDMge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDI0cHg7XG4gICAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1sb2FkZXIge1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvIDI0cHg7XG4gICAgICAgICAgd2lkdGg6IDQ4cHg7XG4gICAgICAgICAgaGVpZ2h0OiA0OHB4O1xuICAgICAgICAgIGJvcmRlcjogNHB4IHNvbGlkIHJnYmEoNTksIDEzMCwgMjQ2LCAwLjIpO1xuICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjM2I4MmY2O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAgICAgICB0byB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5icmlkZ2Utd2lkZ2V0LXN1Y2Nlc3Mge1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvIDI0cHg7XG4gICAgICAgICAgd2lkdGg6IDQ4cHg7XG4gICAgICAgICAgaGVpZ2h0OiA0OHB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMGI5ODE7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1saW5rIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgbWFyZ2luOiAxNnB4IDA7XG4gICAgICAgICAgY29sb3I6ICMzYjgyZjY7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICB9XG5cbiAgICAgICAgLmJyaWRnZS13aWRnZXQtbGluazpob3ZlciB7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgICAgIH1cblxuICAgICAgICAuYnJpZGdlLXdpZGdldC1mb290ZXIge1xuICAgICAgICAgIHBhZGRpbmc6IDEycHggMjRweDtcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgIzJkMmUzNjtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgIGNvbG9yOiAjOGY4ZjhmO1xuICAgICAgICB9XG4gICAgICBgKSkpKTtcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBCcmlkZ2VXaWRnZXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../dist/ui/BridgeWidget.js\n"));

/***/ })

});